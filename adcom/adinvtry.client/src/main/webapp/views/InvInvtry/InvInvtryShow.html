<div ng-cloak class="panel-group" id="invIntryShowPanel">
    <div class="error">
        {{error}}
    </div>
    <div class="panel panel-default">
        <div class="panel-heading">
 			<span><b>{{invInvtryUtils.translations['Entity_info.title']}} : </b></span>
 			 <span><b>{{invInvtryUtils.translations['InvInvtry_invtryNbr_description.title']}} </b> {{invInvtry.invtryNbr}} </span>
 			 <span><b>{{invInvtryUtils.translations['Entity_Of.title']}} </b> {{invInvtry.invtryDt | date:'dd MMM yyyy'}}</span>
 			 <span><b>{{invInvtryUtils.translations['Entity_By.title']}} </b>{{invInvtry.acsngUser}}</span>
        	<button class="glyphicon glyphicon-collapse-down pull-right" data-toggle="collapse" data-parent="#invIntryShowPanel" data-target="#invInvtryInfoToggle"></button>
        </div>
        <div class="panel-collapse collapse" id="invInvtryInfoToggle">
		    <div class="panel-body">
		    	<div class="row" >
			    	<div class="col-lg-4 pull-left">
		                <span><b>{{invInvtryUtils.translations['InvInvtry_invtryNbr_description.title']}} :</b> {{invInvtry.invtryNbr}}</span>
			    	</div>
			    	<div class="col-lg-4 pull-left">
			    		<span><b>{{invInvtryUtils.translations['InvInvtry_invtryDt_description.title']}} :</b> {{invInvtry.invtryDt | date:'dd MMM yyyy'}}</span>
			    	</div>
			    	<div class="col-lg-4 pull-left">
		            	<span><b>{{invInvtryUtils.translations['Entity_By.title']}} :</b>{{invInvtry.acsngUser}}</span>
			    	</div>
		    	</div>
		    	<div class="row" >
			    	<div class="col-lg-4 pull-left">
			            <span><b>{{invInvtryUtils.translations['InvInvtry_invInvtryType_description.title']}} :</b> {{invInvtryUtils.invInvtryTypeI18nMsgTitleValue(invInvtry.invInvtryType)}}</span>
			    	</div>
			    	<div class="col-lg-4 pull-left">
			            <span><b>{{invInvtryUtils.translations['InvInvtry_invtryStatus_description.title']}} :</b>    {{invInvtryUtils.invInvntrStatusI18nMsgTitleValue(invInvtry.invtryStatus)}} </span>
			    	</div>
		    	</div>
		    	<div class="row" >
			    	<div class="col-lg-12 pull-left">
		                <span><b>{{invInvtryUtils.translations['InvInvtry_descptn_description.title']}} :</b> {{invInvtry.descptn}}</span>
			    	</div>
		    	</div>
		    </div>
    	</div>
    </div>
    <div class="panel panel-default">
        <div class="panel-heading">
        	<span><b>{{invInvtryUtils.translations['Entity_search.title']}} {{invInvtryUtils.translations['InvInvtryItem_description.title']}} </b></span>
        	<button class="glyphicon glyphicon-collapse-down pull-right" data-toggle="collapse" data-parent="#invIntryShowPanel" data-target="#invInvtryItemSearchToggle"></button>
        </div>
        <div class="panel-collapse collapse" id="invInvtryItemSearchToggle">
	        <div class="panel-body">
	            <form name="invInvtryItemForm" id="invInvtryItemForm" novalidate >
	                <div class="row" >
	                   <div class="form-group col-lg-2" ng-class="{ 'has-error' : invInvtryItemForm.artPic.$invalid }">
	                       <label class=" control-label" for="artPic">{{invInvtryUtils.translations['InvInvtryItem_artPic_description.title']}}</label>
                           <input type="text" ng- class="form-control" name="artPic" id="artPic" required autocomplete="off" 
                           		ng-model="searchInput.entity.artPic"
                              typeahead="article as article.pic for article in invInvtryUtils.loadArticlesByPic($viewValue)" 
                              	typeahead-min-length="7"
                              typeahead-loading="loading" typeahead-on-select='onArticleSelectedInSearch($item, $model, $label)' >
	                   </div>
	                   <div class="form-group col-lg-5" >
	                       <label class=" control-label" for="searchArtName">{{invInvtryUtils.translations['InvInvtryItem_artName_description.title']}}</label>
                           <input type="text" class="form-control" id="searchArtName" autocomplete="off"
                           	ng-model="searchInput.entity.artName" name="searchArtName" 
                              typeahead="article as article.features.artName for article in invInvtryUtils.loadArticlesByName($viewValue)"
                              typeahead-loading="loading" typeahead-min-length="4" 
                              typeahead-on-select='onArticleSelectedInSearch($item, $model, $label)' >
	                   </div>
	                   <div class="form-group col-lg-2" ng-class="{ 'has-error' : invInvtryItemForm.lotPic.$invalid }">
	                       <label class=" control-label" for="lotPic">{{invInvtryUtils.translations['InvInvtryItem_lotPic_description.title']}}</label>
                           <input type="text" ng- class="form-control" name="lotPic" id="lotPic" autocomplete="off" required 
                           		ng-model="searchInput.entity.lotPic" ng-change="onArticleLotChangedInSearch()" 
                              typeahead="articleLotSection as (articleLotSection.lotPic + ' : ' + articleLotSection.artName + ' : ' + articleLotSection.sectionName) for articleLotSection in showLotsForArtPic($viewValue)"
                              typeahead-loading="loading" typeahead-min-length="0"
                              typeahead-on-select='onArticleLotSectionSelectedInSearch($item, $model, $label)' >
	                   </div>
	                   <div class="form-group col-lg-3">
	                       <label class=" control-label" for="asseccedQty">{{invInvtryUtils.translations['InvInvtryItem_asseccedQty_description.title']}}</label>
	                       <div ng-class="{ 'has-error' : invInvtryItemForm.asseccedQty.$invalid }" >
	                           <input type="text" class="form-control" name="asseccedQty" id="asseccedQty" ng-model="invtryItem.asseccedQty" >
	                       </div>
	                   </div>
	               	</div>
	                <div class="row" >
	                   <div class="form-group col-lg-2" ng-class="{ 'has-error' : invInvtryItemForm.sectionCode.$invalid }">
	                       <label class=" control-label" for="sectionCode">{{invInvtryUtils.translations['InvInvtryItem_section_description.title']}}</label>
               		       <input type="text" ng-model="searchInput.entity.section" id="sectionCode" name="sectionCode" class="form-control" required
                               autocomplete="off" typeahead="stkSection as (stkSection.strgSection + ' : ' + stkSection.sectionName) for stkSection in invInvtryUtils.loadStkSectionArticleLots($viewValue)"
                               typeahead-loading="loading" typeahead-min-length="4" typeahead-on-select='onSectionSelectedInSearch($item, $model, $label)'>
	                   </div>
	                   <div class="form-group col-lg-4">
	                       <label class=" control-label" for="searchSectionName">{{invInvtryUtils.translations['InvInvtryItem_sectionName_description.title']}}</label>
               		       <input type="text" ng-model="display.sectionName" id="searchSectionName" name="searchSectionName" class="form-control"
                               autocomplete="off" typeahead="stkSection as (stkSection.strgSection + ' : ' + stkSection.sectionName) for stkSection in invInvtryUtils.loadStkSectionArticleLotsByName($viewValue)"
                               typeahead-loading="loading" typeahead-min-length="4" typeahead-on-select='onSectionSelectedInSearch($item, $model, $label)'>
	                   </div>
	                   <div class="form-group col-lg-1">
	                       <label class=" control-label" for="searchRangeStart">{{invInvtryUtils.translations['InvInvtryItem_artNameStart_description.title']}}</label>
               		       <input type="text" ng-model="searchInput.rangeStart" id="searchRangeStart" name="searchRangeStart" class="form-control">
	                   </div>
	                   <div class="form-group col-lg-1">
	                       <label class=" control-label" for="searchRangeEnd">{{invInvtryUtils.translations['InvInvtryItem_artNameEnd_description.title']}}</label>
               		       <input type="text" ng-model="searchInput.rangeEnd" id="searchRangeEnd" name="searchRangeEnd" class="form-control">
	                   </div>
                       <div class="form-group col-lg-4">
                           <button  ng-click="handleSearchRequestEvent()" class="btn btn-default " style="margin-top: 23px;" >
                               <i class="glyphicon glyphicon-search"></i>
                           </button>
                           <button  ng-click="handleAlphabeticRequestEvent()" class="btn btn-default " style="margin-top: 23px;" >
                               <i class="glyphicon glyphicon-sort-by-alphabet"></i>
                           </button>
                           <button  ng-click="handleResetRequestEvent()" class="btn btn-default " style="margin-top: 23px;" >
                               <i class="glyphicon glyphicon-flash"></i>{{invInvtryUtils.translations['Entity_reset.title']}}
                           </button>
                           <button  ng-click="handlePrintRequestEvent()" class="btn btn-default " style="margin-top: 23px;" >
                               <i class="glyphicon glyphicon-print"></i>
                           </button>
	                       <button class="btn btn-default" ng-disabled="invInvtryItemForm.$invalid" ng-click="addItem(searchInput.entity)" style="margin-top: 23px;" ng-show="invInvtryUtils.isInvInvtryEditable(invInvtry)">
	                       		<i class="glyphicon glyphicon-plus"></i> {{invInvtryUtils.translations['Entity_add.title']}}
	                       </button>
                       </div>
		            </div>
	          </form>
	        </div>
        </div>
    </div>
    <div class="panel panel-default">
        <div class="panel-heading">
        	<b> {{invInvtryUtils.translations['InvInvtryItem_description.title']}} </b> 
            <span class="pull-right">
                <a class="btn-danger btn" href="#/InvIntrys" ><i class="" ></i> {{invInvtryUtils.translations['Entity_list.title']}}</a>
            </span>
        </div>
        <div class="panel-body">
            <table class="table table-bordered  table-striped" >
                <thead>
                <tr>
                    <th class="clo-lg-1">{{invInvtryUtils.translations['InvInvtryItem_section_description.title']}}</th>
                    <th class="clo-lg-1">{{invInvtryUtils.translations['InvInvtryItem_lotPic_description.title']}}</th>
                    <th class="clo-lg-1">{{invInvtryUtils.translations['InvInvtryItem_artPic_description.title']}}</th>
                    <th class="col-lg-5">{{invInvtryUtils.translations['InvInvtryItem_artName_description.title']}}</th>
                    <th class="col-lg-1">{{invInvtryUtils.translations['InvInvtryItem_expirDt_description.title']}}</th>
                    <th class="col-lg-1">{{invInvtryUtils.translations['InvInvtryItem_acsngDt_description.title']}}</th>
                    <th class="col-lg-1">{{invInvtryUtils.translations['InvInvtryItem_asseccedQty_description.title']}}</th>
                    <th class="col-lg-1" ng-show="invInvtryUtils.isInvInvtryEditable(invInvtry)">
                    </th>
                </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="invtryItem in invInvtryItems()" ng-dblclick="editItem($index)">
                        <td>{{invtryItem.section}}</td>
                        <td>{{invtryItem.lotPic}}</td>
                        <td>{{invtryItem.artPic}}</td>
                        <td>{{invtryItem.artName}}</td>
                        <td><span ng-show="!invtryItem.editing">{{invtryItem.expirDt | date:'dd-MM-yyyy'}}</span>
                            <span class="" ng-show="invtryItem.editing">
                                <input type="datetime" date-time  view="date" min-view="date" views="['date']" dismiss="true" format="dd-MM-yyyy"
                                        ng-model="invtryItem.expirDt" class="form-control">
                            </span>
                        
                        </td>
                        <td>{{invtryItem.acsngDt | date:'dd-MM-yyyy HH:mm'}}</td>
                        <td><span ng-show="!invtryItem.editing">{{invtryItem.asseccedQty | number:0}}</span>
	                        <input type="text" name="asseccedQty"
	                        	ng-model="invtryItem.asseccedQty" ng-show="invtryItem.editing" ng-change="qtyChanged(invtryItem)">
                        </td>
                        <td ng-show="invInvtryUtils.isInvInvtryEditable(invInvtry)">
                        	<span ng-show="!invtryItem.editing && !invtryItem.disableDt">
	                        	<a ng-click="invtryItem.editing=true" class=""><i class="glyphicon glyphicon-edit"></i></a>
                        	</span>
                        	<span ng-show="invtryItem.editing">
	                        	<a ng-click="updateItem(invtryItem)" class=""><i class="glyphicon glyphicon-save"></i></a>
                        	</span>
                        	<span ng-show="invtryItem.editing" class="pull-right">
	                        	<a ng-click="cancelEditItem(invtryItem)" class=""><i class="glyphicon glyphicon-remove"></i></a>
                        	</span>
                        	<span ng-show="!invtryItem.editing && invtryItem.disableDt" style="margin-left:5px">
	                        	<a ng-click="enableItem(invtryItem)" class=""><i class="glyphicon glyphicon-edit"></i></a>
                        	</span>
                        	<span ng-show="invtryItem.editing" class="pull-right">
	                        	<a ng-click="disableItem(invtryItem)" class=""><i class="glyphicon glyphicon-trash"></i></a>
                        	</span>
                        </td>
                    </tr>
                </tbody>
            </table>
            <ul  class="pull-right">
                <pagination  total-items="totalItems()" items-per-page="itemPerPage()"  class="pagination-sm" ng-model="currentPage" ng-change="paginate()"></pagination>
            </ul>
        </div>
    </div>
</div>